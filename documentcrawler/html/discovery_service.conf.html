<h1>Configuring the Discovery service</h1><p>The Discovery service tells the crawler how to manage crawled files when using the IBM Watson Discovery service. Default options can be changed directly by opening the <code>config/discovery/discovery_service.conf</code> file, and modifying the following values specific to your use case:</p>
<ul>
  <li><strong>http_timeout</strong> - The timeout, in seconds, for the document read/index operation; the default is <code>125</code>.</li>
  <li><strong>concurrent_upload_connection_limit</strong> - The number of simultaneous connections allowed for uploading documents; the default is <code>2</code>. When using the Orchestration Service Output Adapter, this number should be greater than, or equal to, the <code>output_limit</code> set when configuring crawl options.</li>
  <li><strong>base_url</strong> - The URL that your crawled documents will be sent to. For the current release of the Discovery service, the value is <code>https://gateway.watsonplatform.net/discovery/api</code>.</li>
  <li><strong>environment_id</strong> - The location of your crawled document collection at the <code>base-url</code>.</li>
  <li><strong>collection_id</strong> - Name of the document collection that you set up in the Discovery service.</li>
  <li><strong>configuration_id</strong> - The filename of the configuration file that the Discovery service uses.</li>
  <li><strong>check_for_completion</strong> - Checks if the document was successfully processed at the endpoint. This reduces the perceived performance of the crawler, but will produce reliable notification of a successful document upload and conversion. Value is either <code>true</code> or <code>false</code>.<br/><strong>IMPORTANT</strong> - When enabling this parameter, it is wise to increase the <code>concurrent_upload_connection_limit</code> to greater than, or equal to, the <code>output_limit</code> set when configuring crawl options, in order to fully utilize the resources available to you.</li>
</ul><p>Supply your Discovery service credentials:<br/>* <strong>username</strong> - Username to authenticate with the location of your crawled document collection.<br/>* <strong>password</strong> - Password to authenticate with the location of your crawled document collection.</p><p>The Discovery Service Output Adapter can send statistics in order for IBM to better understand and serve its users. The following options can be set for the <code>send_stats</code> variable:<br/>* <strong>jvm</strong> - Java Virtual Machine (JVM) statistics sent include the Java vendor and version, as reported by the JVM used to execute the data crawler. Value is either <code>true</code> or <code>false</code>.<br/>* <strong>os</strong> - Operating system (OS) statistics sent include OS name, version, and architecture, as reported by the JVM used to execute the data crawler. Value is either <code>true</code> or <code>false</code>.</p>
<ul>
  <li><strong>api_version</strong> - Internal use only. Date of the last API version change.</li>
</ul><h1>Configuring URL tracking storage</h1><p>The <code>config/discovery</code> folder also contains a configuration file that may be used for internal mapping of crawler URLS and document IDs. Default options can be changed directly by opening the <code>config/discovery/uri_tracking_storage.conf</code> file, and modifying the following values specific to your use case:</p>
<ul>
  <li><strong>driver</strong> - JDBC H2 driver class of your database. Default value is <code>org.h2.Driver</code></li>
  <li><strong>url</strong> - This is the URL prefix for the JDBC connection string. Format is <code>jdbc:h2:[file:]</code>. <strong>NOTE</strong> The prefix <code>file:</code> is optional. If no, or only a relative path for <code>database_location</code> is used, then the current working directory is used as a starting point. Default is <code>jdbc:h2:file:</code></li>
  <li><strong>database_location</strong> - The location on the disk where the database is stored, for example, <code>./storage/database</code> or <code>~/storage/database</code>. Default value is <code>./storage/database</code></li>
  <li><strong>database_name</strong> - Name of the database. Default value is <code>ActivityDB</code></li>
  <li><strong>table_name</strong> - Name of table to use. Default value is <code>UriTracker</code></li>
  <li><strong>username</strong> - Username to connect to database</li>
  <li><strong>password</strong> - Password to connect to database</li>
</ul><h2>SEE ALSO</h2><p>crawler(1)</p><p>vcrypt(1)</p><p>crawler.conf(5)</p><p>crawler-options.conf(5)</p><p>crawler-seed.conf(5)</p>